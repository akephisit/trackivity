# คู่มือการใช้งานระบบสแกน QR Code สำหรับผู้ดูแลระบบ

## ภาพรวมของระบบ

ระบบสแกน QR Code ใน Trackivity ถูกออกแบบสำหรับผู้ดูแลระบบคณะ (Faculty Admin) และผู้ดูแลระบบทั่วไป (Regular Admin) ให้สามารถสแกน QR Code ของนักศึกษาเพื่อบันทึกการเข้าร่วมกิจกรรมต่าง ๆ ได้อย่างรวดเร็วและมีประสิทธิภาพ

## สิทธิ์การเข้าถึง

### ผู้ที่สามารถใช้งานระบบ:
- **Super Admin**: สามารถสแกนกิจกรรมทั้งหมดในระบบ
- **Faculty Admin (แอดมินคณะ)**: สามารถสแกนกิจกรรมในขอบเขตคณะของตนเอง
- **Regular Admin (แอดมินทั่วไป)**: สามารถสแกนกิจกรรมที่สร้างเองหรือได้รับมอบหมาย

### การตรวจสอบสิทธิ์:
ระบบจะตรวจสอบสิทธิ์อัตโนมัติตามระดับของแอดมินและขอบเขตคณะที่รับผิดชอบ

## การเข้าใช้งาน

### 1. เข้าสู่ระบบ Admin
- เข้าไปที่ `/admin/login`
- ล็อกอินด้วยบัญชี Admin ที่มีสิทธิ์

### 2. เข้าสู่ระบบสแกน QR Code
- คลิกเมนู "สแกน QR Code" จาก sidebar
- หรือเข้าไปที่ URL `/admin/qr-scanner` โดยตรง

## คุณสมบัติหลักของระบบ

### 1. เลือกกิจกรรม
- ระบบจะแสดงรายการกิจกรรมที่คุณมีสิทธิ์จัดการ
- เลือกกิจกรรมที่ต้องการสแกนจาก dropdown menu
- ระบบจะแสดงข้อมูลกิจกรรมที่เลือก รวมทั้ง:
  - ชื่อกิจกรรม
  - สถานที่จัด
  - วันและเวลา
  - จำนวนผู้เข้าร่วมปัจจุบัน

### 2. เริ่มระบบสแกน
- กดปุ่ม "เริ่มสแกน QR Code"
- ระบบจะขอสิทธิ์เข้าถึงกล้อง (อนุญาตเพื่อใช้งาน)
- กล้องจะเปิดขึ้นพร้อมกรอบสแกน

### 3. การสแกน QR Code
- วาง QR Code ของนักศึกษาให้อยู่ในกรอบสแกน
- ระบบจะตรวจจับและประมวลผล QR Code อัตโนมัติ
- ผลการสแกนจะแสดงทันทีใน toast notification

### 4. ประวัติการสแกน
- ระบบจะแสดงประวัติการสแกนในเซสชันปัจจุบัน
- ข้อมูลที่แสดง:
  - ชื่อ-นามสกุลนักศึกษา
  - รหัสนักศึกษา
  - สถานะการเข้าร่วม
  - เวลาที่สแกน

### 5. สถิติการสแกน
- แสดงจำนวนการสแกนที่สำเร็จ
- แสดงจำนวนการสแกนที่ไม่สำเร็จ
- คำนวณอัตราความสำเร็จ
- แสดงระยะเวลาการทำงานในเซสชัน

## ขั้นตอนการใช้งาน

### 1. เตรียมตัวก่อนใช้งาน
```
1. ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
2. เตรียมอุปกรณ์ที่มีกล้อง (คอมพิวเตอร์หรือมือถือ)
3. เข้าสู่ระบบด้วยบัญชี Admin
```

### 2. การตั้งค่าเซสชันสแกน
```
1. เข้าไปที่หน้า "สแกน QR Code"
2. เลือกกิจกรรมที่ต้องการสแกน
3. ตรวจสอบข้อมูลกิจกรรมว่าถูกต้อง
4. กดปุ่ม "เริ่มสแกน QR Code"
5. อนุญาตการเข้าถึงกล้องเมื่อระบบขอ
```

### 3. การสแกนจริง
```
1. รอให้กล้องเปิดและแสดงภาพ
2. ขอให้นักศึกษาแสดง QR Code
3. วาง QR Code ในกรอบสแกน
4. รอระบบประมวลผลและแจ้งผล
5. ตรวจสอบการบันทึกในประวัติ
```

### 4. การจัดการข้อผิดพลาด
```
1. หากสแกนไม่สำเร็จ ตรวจสอบ:
   - QR Code ชัดเจนไม่เบลอ
   - แสงเพียงพอในการสแกน
   - QR Code ยังไม่หมดอายุ
2. หากยังไม่สำเร็จ ให้ลองสแกนใหม่
3. สามารถใช้ฟีเจอร์ "สแกนด้วยตนเอง" ได้ในกรณีฉุกเฉิน
```

## ฟีเจอร์ขั้นสูง

### 1. การสแกนหลายคนอย่างต่อเนื่อง
- ระบบมี cooldown 2 วินาที ระหว่างการสแกน
- สามารถสแกนคนต่อไปได้ทันทีหลังจากประมวลผลเสร็จ
- ไม่ต้องรีเฟรชหรือรีสตาร์ทระบบ

### 2. การจัดการเซสชัน
- รีเซ็ตสถิติได้ตลอดเวลา
- หยุดและเริ่มการสแกนใหม่ได้
- ล้างประวัติการสแกนได้

### 3. การทำงานแบบ Real-time
- ระบบอัปเดตข้อมูลทันที
- แจ้งเตือนผลการสแกนแบบ instant
- ซิงค์ข้อมูลกับฐานข้อมูลอัตโนมัติ

## การแก้ปัญหาเบื้องต้น

### ปัญหาเรื่องกล้อง
- **ไม่สามารถเปิดกล้องได้**:
  - ตรวจสอบว่าอนุญาตการเข้าถึงกล้องแล้ว
  - ลองรีเฟรชหน้าเว็บ
  - ปิดแอปพลิเคชันอื่นที่ใช้กล้อง

### ปัญหาการสแกน
- **QR Code ไม่ถูกจับ**:
  - ตรวจสอบแสงและความชัดเจน
  - ขยับ QR Code ให้อยู่ในกรอบ
  - รอสักครู่ให้ระบบประมวลผล

### ปัญหาการเชื่อมต่อ
- **ไม่สามารถบันทึกข้อมูลได้**:
  - ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
  - ลองรีเฟรชหน้าเว็บ
  - ตรวจสอบการล็อกอิน Admin

## ข้อควรระวัง

### 1. ความปลอดภัย
- ใช้เฉพาะในอุปกรณ์ที่เชื่อถือได้
- ล็อกเอาต์เมื่อใช้งานเสร็จ
- ไม่แชร์บัญชี Admin กับผู้อื่น

### 2. การใช้งาน
- ตรวจสอบกิจกรรมให้ถูกต้องก่อนเริ่มสแกน
- สำรองข้อมูลก่อนรีเซ็ตสถิติ
- ใช้อินเทอร์เน็ตที่เสถียร

### 3. การจัดการข้อมูล
- ระบบบันทึกข้อมูลอัตโนมัติทันที
- ไม่สามารถยกเลิกการสแกนที่บันทึกแล้ว
- ใช้ดุลยพินิจในการอนุมัติการเข้าร่วม

## การสนับสนุนเทคนิค

หากพบปัญหาในการใช้งาน:
1. ตรวจสอบคู่มือนี้ก่อน
2. ลองแก้ปัญหาตามขั้นตอนที่แนะนำ
3. ติดต่อทีมเทคนิคหากยังไม่สามารถแก้ไขได้
4. รายงานปัญหาพร้อมรายละเอียดการใช้งาน

## การอัปเดตระบบ

ระบบจะได้รับการอัปเดตเป็นประจำเพื่อ:
- ปรับปรุงประสิทธิภาพการสแกน
- เพิ่มฟีเจอร์ใหม่
- แก้ไขข้อบกพร่อง
- เพิ่มความปลอดภัย

## ข้อกำหนดระบบ

### อุปกรณ์ที่รองรับ:
- คอมพิวเตอร์ที่มีเว็บแคม
- โทรศัพท์มือถือที่มีกล้อง
- แท็บเล็ตที่มีกล้อง

### เว็บเบราว์เซอร์ที่รองรับ:
- Google Chrome (แนะนำ)
- Mozilla Firefox
- Safari (iOS/macOS)
- Microsoft Edge

### ความต้องการอื่น ๆ:
- การเชื่อมต่ออินเทอร์เน็ตที่เสถียร
- JavaScript เปิดใช้งาน
- สิทธิ์เข้าถึงกล้อง

---

**หมายเหตุ**: คู่มือนี้อาจมีการเปลี่ยนแปลงตามการอัปเดตระบบ กรุณาตรวจสอบเวอร์ชันล่าสุดเสมอ